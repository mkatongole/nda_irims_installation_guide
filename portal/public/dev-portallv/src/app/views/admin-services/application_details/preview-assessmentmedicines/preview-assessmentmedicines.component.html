
<div class="row" style="background: #fff; font-weight: bold;padding:5px;margin-bottom: 5px !important; height: 55px !important;">
  <div class="col-lg-2 pull-left">
      <label style="font-weight: bold;margin: 5px; font-style:italics;font-size: 15px;font-style: italics; color: green;">
          Application Tracking Number: </label>
  </div>
  <div class="col-lg-2 pull-left">
      <label style="font-weight: bold;margin: 5px; font-style:italics;font-size: 15px;font-style: italics;color: green;"> <i> {{tracking_no}}</i></label>
  </div>

</div>
<div class="row">
  <div class="col-lg-2">
    <button (click)="onProductAssessmentDashboard()" class="btn btn-info "
    type="button"><i class="fa fa-dashboard"></i>
    &nbsp; Back to List of Dashboard</button>
    </div>
    <div class="col-lg-2">
      <button (click)="onProductExportDetails()" class="btn btn-info"
      type="button"><i class="fa fa-print"></i>
      &nbsp;Export Product Application </button>
      </div>
</div>
<div class="row  div-nopadding"  id="print-container">

  <div class="div_sectiontitle col-lg-12">Product General Details</div>
  <div class="col-lg-12">
    <form role="form" enctype="multipart/form-data" role="form" [formGroup]="productGeneraldetailsfrm">
      <div class="row wizard-content">
        <div class="col-lg-4">
          <label>Assessment Procedure</label>

          <dx-select-box [dataSource]="assessmentProcedureData" valueExpr="id" [readOnly]="isReadOnly" displayExpr="name" [searchEnabled]="true"
            placeholder="Select Assessment Procedure" formControlName="assessment_procedure_id">
          </dx-select-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Brand Name/Device Name</label>
          <dx-text-box formControlName="brand_name" [readOnly]= "isReadOnly" placeholder="Enter Brand Name" [showClearButton]="true">
          </dx-text-box>
        </div>
        <div class="col-lg-4 ">
          <label for="ti" class="control-label">Classification</label>

          <dx-select-box [dataSource]="classificationData" [readOnly]= "isReadOnly" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Select Classification" formControlName="classification_id">
          </dx-select-box>
        </div>
       
        <div class="col-lg-4 " *ngIf="field_hidden">

          <label for="ti" class="control-label">Generic Name(Optional)</label>

          <dx-select-box [dataSource]="commonNamesData"   [readOnly]= "isReadOnly"  valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Select Common name"   (onSelectionChanged)="onCommonNameCboSelect($event)" formControlName="common_name_id">
          </dx-select-box>
        </div>
    
<!--
        <div class="col-lg-4" style="margin:1px;">

          <label class="control-label">Product Strength</label>
          <dx-text-box formControlName="product_strength" placeholder="Product Strength" [showClearButton]="true">
          </dx-text-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Strength SI-Units</label>

          <dx-select-box [dataSource]="siUnitsData" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Strength SI-Units" formControlName="si_unit_id">
          </dx-select-box>
        </div>-->
        <div class="col-lg-4">
          <label class="control-label">Distribution Category</label>

          <dx-select-box [dataSource]="distributionCategoryData" [readOnly]= "isReadOnly" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Strength Distribution Category" formControlName="distribution_category_id">
          </dx-select-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Storage Conditions</label>

          <dx-select-box [dataSource]="storageConditionData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  [readOnly]="isReadOnly" 
            placeholder="Strength  Storage Conditions" formControlName="storage_condition_id">
          </dx-select-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Dosage Forms</label>

          <dx-select-box [dataSource]="dosageFormsData" [readOnly]= "isReadOnly" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Strength  Dosage Form" formControlName="dosage_form_id">
          </dx-select-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Route Of Administration</label>
          <dx-select-box [dataSource]="routeOfAdministrationData" [readOnly]= "isReadOnly" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder="Route Of Administration" formControlName="route_of_administration_id">
          </dx-select-box>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Product Category</label>

          <dx-select-box [dataSource]="productCategoryData" valueExpr="id" displayExpr="name" [searchEnabled]="true"
            placeholder=" Product Category"  [readOnly]="isReadOnly" 
            formControlName="product_category_id">
          </dx-select-box>
        </div>
       <div class="col-lg-4 row" style="margin-left:3px;">
          <label class="control-label col-lg-12">Proposed Shelf Life</label>

          <dx-number-box class="col-lg-6" formControlName="shelf_life" placeholder="shelf_life" [showClearButton]="true">
          </dx-number-box>
          <dx-select-box class="col-lg-4" [dataSource]="durationDescData"  valueExpr="id" displayExpr="name"  [readOnly]="isReadOnly" 
          placeholder="Duration Description" [searchEnabled]="true"
          formControlName="shelflifeduration_desc">
        </dx-select-box>
        </div>
        <div class="col-lg-4 row" style="margin-left:3px;">
          <label class="control-label  col-lg-12">Proposed Shelf Life After Opening</label>

          <dx-number-box class="col-lg-6" formControlName="shelf_lifeafter_opening"  placeholder="shelf_lifeafter_opening"
            [showClearButton]="true">
          </dx-number-box>
          <dx-select-box class="col-lg-4" [dataSource]="durationDescData"  valueExpr="id" displayExpr="name"  [readOnly]="isReadOnly" 
              placeholder="Duration Description" [searchEnabled]="true"
              formControlName="shelflifeafteropeningduration_desc">
            </dx-select-box>
        </div>
        <div class="col-lg-4">
            <label class="control-label">Product Type</label>

            <dx-select-box [dataSource]="productTypeData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  [readOnly]="isReadOnly" 
              placeholder="Product Type" formControlName="product_type_id">
            </dx-select-box>
          </div>
         
        <div class="col-lg-4">
          <label class="control-label">Product Physical Description(Description of Finished Product Specification)</label>

          <dx-text-area [height]="60" formControlName="physical_description" [readOnly]= "isReadOnly" placeholder="Physical description"
            >
          </dx-text-area>
        </div>
        <div class="col-lg-4">
          <label class="control-label">Indication</label>

          <dx-text-area [height]="60" formControlName="contraindication"  placeholder="Enter Indication">
          </dx-text-area>
        </div>
        
       
        <div class="col-lg-4">
          <input type="hidden" name="section_id" formControlName="section_id" />
          <dx-select-box [hidden]=true [dataSource]="zonesData" valueExpr="id" displayExpr="name" [searchEnabled]="true"
          placeholder="Select Cerificate Issue Place" formControlName="zone_id">
        </dx-select-box>
          <input type="hidden" name="atc_code_id" formControlName="atc_code_id" />
          <input type="hidden" name="sub_module_id" formControlName="sub_module_id" />
          <input type="hidden" name="product_id" value={{product_id}} formControlName="product_id" />
          <input type="hidden" name="reg_product_id" value={{reg_product_id}} formControlName="reg_product_id" />
          <input type="hidden" name="prodclass_category_id"  formControlName="prodclass_category_id" />

          <input type="hidden" name="tra_product_id" value={{tra_product_id}} formControlName="tra_product_id" />
         
          </div>
      </div>
    </form>

  </div>
  <div class="div_sectiontitle col-lg-12">Product Ingredients</div>
  <div class="col-lg-12">
    <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" 
    [dataSource]="drugsingredientsData" keyExpr="id">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="ingredientsFile" [allowExportSelectedData]="true"></dxo-export>

    <dxo-selection mode="multiple"></dxo-selection>
    <dxo-group-panel [visible]="true"></dxo-group-panel>
    
    <dxi-column dataField="ingredient"></dxi-column>
    <dxi-column dataField="specification"></dxi-column>
    <dxi-column dataField="strength"></dxi-column>
    <dxi-column dataField="si_units"></dxi-column>
    <dxi-column dataField="reason_of_inclusion"></dxi-column>

  </dx-data-grid>
</div>
<div class="div_sectiontitle col-lg-12">Packaging Information</div>
<div class="col-lg-12">
  <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" 
  [dataSource]="drugsPackagingData" keyExpr="id">
  <dxo-filter-row [visible]="false"></dxo-filter-row>
  <dxo-search-panel [visible]="true">
  </dxo-search-panel>
  <dxo-paging [enabled]="true">
  </dxo-paging>
  <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
  </dxo-pager>
  <dxo-export [enabled]="true" fileName="packagingFile" [allowExportSelectedData]="true"></dxo-export>

  <dxo-selection mode="multiple"></dxo-selection>
  <dxo-group-panel [visible]="true"></dxo-group-panel>
  <dxi-column dataField="container_type"></dxi-column>
  <dxi-column dataField="primary_container" caption ="Container"></dxi-column>
  <dxi-column dataField="container_materials"></dxi-column>
  <dxi-column dataField="retail_packaging" caption="Units in Retails Packaging Container(1,2,3...)"></dxi-column>
  <dxi-column dataField="unit_pack_name" caption="Unit Pack(Units or Volume or Weight)"></dxi-column>
</dx-data-grid>

  </div>
  <div class="div_sectiontitle col-lg-12"> Finished Product Manufacturers</div>
<div class="col-lg-12">
  <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" 
  [dataSource]="productManufacturersData" keyExpr="id">
  <dxo-filter-row [visible]="false"></dxo-filter-row>
  <dxo-search-panel [visible]="true">
  </dxo-search-panel>
  <dxo-paging [enabled]="true">
  </dxo-paging>
  <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
  </dxo-pager>
  <dxo-export [enabled]="true" fileName="manufacturingFile" [allowExportSelectedData]="true"></dxo-export>

  <dxo-selection mode="multiple"></dxo-selection>
  <dxo-group-panel [visible]="true"></dxo-group-panel>

  <dxi-column dataField="manufacturing_site"></dxi-column>
  <dxi-column dataField="manufacturer_name"></dxi-column>
  <dxi-column dataField="country"></dxi-column>
  <dxi-column dataField="region"></dxi-column>
  <dxi-column dataField="physical_address"></dxi-column>
  <dxi-column dataField="postal_address"></dxi-column>
  <dxi-column dataField="manufacturing_role"></dxi-column>
  <dxi-column dataField="email_address"></dxi-column>

  <dxi-column [width]="100" caption="Action" name="command-editing" [allowFiltering]="false"
    [allowSorting]="false" cellTemplate="cellTemplate">
    <div *dxTemplate="let data of 'cellTemplate'">
      <a (click)="funcDeleteManufacturingDetails(data)"  *ngIf="!isReadOnly"   class="action-btn"><i class="fa fa-delete"></i>Delete</a>
    </div>
  </dxi-column>
</dx-data-grid>
  </div>
  <div class="div_sectiontitle col-lg-12">  API Manufacturers(expand to fill in the API manufacturers)</div>
  <div class="col-lg-12">
    <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" 
    [dataSource]="apiManufacturersData" keyExpr="id">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="manufacturingFile" [allowExportSelectedData]="true"></dxo-export>

    <dxo-selection mode="multiple"></dxo-selection>
    <dxo-group-panel [visible]="true"></dxo-group-panel>
    <dxi-column dataField="active_ingredient"></dxi-column>
    <dxi-column dataField="manufacturer_name"></dxi-column>
    <dxi-column dataField="country"></dxi-column>
    <dxi-column dataField="region"></dxi-column>
    <dxi-column dataField="physical_address"></dxi-column>
    <dxi-column dataField="postal_address"></dxi-column>
    <dxi-column dataField="email_address"></dxi-column>

    <dxi-column [width]="100" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">
        <a (click)="funcDeleteManufacturingDetails(data)"   *ngIf="!isReadOnly"   class="action-btn"><i class="fa fa-delete"></i>Delete</a>
      </div>
    </dxi-column>
  </dx-data-grid>
    </div>
    <div class="div_sectiontitle col-lg-12">Product Application Dossier Documents</div>
    <div class="col-lg-12">
    <app-app-document-preview [prodclass_category_id] ="prodclass_category_id" [query_ref_id] ="query_ref_id" [section_id] ="section_id"  [module_id] ="module_id" [status_id] ="status_id" [sub_module_id] ="sub_module_id" [application_code] ="application_code"></app-app-document-preview>
    </div>
</div>
