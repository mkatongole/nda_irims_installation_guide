
<div class="row wizard-content"*ngIf="is_registered == 1 && sub_module_id == 12">
  <dx-data-grid [dataSource]="permitProductsData" (onToolbarPreparing)="onPermitProductGridToolbar($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false" 
    [showBorders]="true">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-selection mode="single"></dxo-selection>
    <dxi-column [width]="160" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">
        <dx-menu (onItemClick)="permitProductsActionColClick($event,data)" [items]="permitProductMenuItems">

        </dx-menu>
      </div>
    </dxi-column>
    <dxi-column dataField="product_registration_no"caption="Registration Number"></dxi-column>
    <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
    <dxi-column *ngIf = "product_category_id == 9" dataField="gmdn_term" caption="GMDN Term Name"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9" dataField="product_strength"caption="Strength"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9" dataField="units_of_strength"caption="Units of Strength"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9" dataField="dosage_form"caption="Dosage Form"></dxi-column>
    <dxi-column *ngIf = "product_category_id == 9" dataField="manufacturer_name"caption="Manufacturer"></dxi-column>

    <dxi-column *ngIf="[1, 2, 3, 4, 5, 6, 7, 11, 16].includes(product_category_id)" dataField="imported_product"caption="Product to be Imported"></dxi-column>
    <dxi-column dataField="no_of_packs"caption="Number of Packs"></dxi-column> 
    <dxi-column dataField="currency_name"caption="Currency"></dxi-column>  
    <dxi-column dataField="pack_price"caption="Price Per Pack"></dxi-column> 
    <dxi-column dataField="pack_size"caption="Pack Size"></dxi-column> 
    <dxi-column dataField="total_value" caption="Total Price (Packs)"></dxi-column>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-summary>
      <dxi-total-item
          column="total_value"
          summaryType="sum">
      </dxi-total-item>
  </dxo-summary>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
  </dx-data-grid>
</div>


<div class="row wizard-content"*ngIf="sub_module_id == 115">
  <dx-data-grid [dataSource]="declarationpermitProductsData" (onToolbarPreparing)="onPermitProductDeclarationGridToolbar($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false" 
    [showBorders]="true">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-selection mode="single"></dxo-selection>
    <dxi-column [width]="160" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">

        <dx-menu (onItemClick)="permitProductsActionColClick($event,data)" [items]="permitProductMenuItems">

        </dx-menu>

      </div>
    </dxi-column>
    <dxi-column dataField="product_registration_no" caption=" Registration  No"></dxi-column>
    <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
    <dxi-column dataField="common_name"caption="Generic Name"></dxi-column>
    <dxi-column dataField="product_strength"caption="Strength"></dxi-column>
    <dxi-column dataField="dosage_form"caption="Dosage Name"></dxi-column>
    <dxi-column dataField="units_of_strength"caption="Units (strength)"></dxi-column>
    <dxi-column  dataField="raw_materials" caption=" Item/Product"></dxi-column>
    <dxi-column dataField="gmdn_code" caption="GMDN Code"></dxi-column>
    <dxi-column  dataField="gmdn_term" caption="GMDN Term Name"></dxi-column>
    <dxi-column dataField="batch_qty"caption="Number of Packs (Batch)"></dxi-column>
    <dxi-column dataField="batch_units"caption="Number of Units (Batch)"></dxi-column>
    <dxi-column dataField="product_batch_no"caption="Batch No"></dxi-column>
    <dxi-column dataField="product_manufacturing_date" caption="Mgf Date"></dxi-column>
    <dxi-column dataField="product_expiry_date" caption="Product Expiry Date"></dxi-column> 
    <dxi-column dataField="units_for_quantity" caption="Units for Quantity"></dxi-column>  
    <dxi-column dataField="pack_price"caption="Price Per pack(FOB)"></dxi-column>
    <dxi-column dataField="currency_name"></dxi-column>
    <dxi-column dataField="total_batch_value" caption="Total Cost (FOB)"></dxi-column>
    <dxi-column dataField="narcotic_permit" caption="Narcotics Permit No"></dxi-column>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-summary>
      
      <dxi-total-item
          column="total_batch_value"
          summaryType="sum">
      </dxi-total-item>
  </dxo-summary>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
  </dx-data-grid>
</div>

<div class="row wizard-content"*ngIf="sub_module_id == 115">
  <dx-data-grid [dataSource]="permitdeclarationProductsData"  [allowColumnResizing]="true" [columnHidingEnabled]="false" 
    [showBorders]="true">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-selection mode="single"></dxo-selection>
    <dxi-column [width]="160" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">

        <dx-menu (onItemClick)="permitProductsActionColClick($event,data)" [items]="permitProductMenuItems">

        </dx-menu>

      </div>
    </dxi-column>
    <dxi-column dataField="product_registration_no" caption=" Registration  No"></dxi-column>
    <dxi-column dataField="hs_code"caption="HS Code"></dxi-column>
    <dxi-column dataField="hs_code_description"caption="HS Code Description"></dxi-column>
    <dxi-column dataField="gmdn_code" caption="GMDN Code"></dxi-column>
    <dxi-column  dataField="gmdn_term" caption="GMDN Term Name"></dxi-column>
    <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
    <dxi-column dataField="dosage_form"caption="Dosage Name"></dxi-column>
    <dxi-column dataField="approved_qty"caption="Number of Packs"></dxi-column>
    <dxi-column dataField="currency_name"></dxi-column>
    <dxi-column dataField="pack_price"caption="Price Per Paack(FOB)"></dxi-column>
    <dxi-column dataField="total_declaration_value" caption="Total Cost (FOB)"></dxi-column>
    <dxi-column  dataField="raw_materials" caption=" Item/Product"></dxi-column>
    <dxi-column dataField="no_of_shippers" caption="Number of Shippers/Cartons "></dxi-column>
    <dxi-column dataField="no_of_pallets" caption="Number of Pallets"></dxi-column>
    <dxi-column dataField="supplementary_unit" caption="Supplementary Units"></dxi-column> 
    <dxi-column dataField="supplementary_value"caption="Supplementary Value"></dxi-column>
    <dxi-column dataField="narcotic_permit" caption="Narcotics Permit No"></dxi-column>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-summary>
      
      <dxi-total-item
          column="total_declaration_value"
          summaryType="sum">
      </dxi-total-item>
  </dxo-summary>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
  </dx-data-grid>
</div>

<div class="row wizard-content"*ngIf="is_registered !== 1 && sub_module_id == 12">
  <dx-data-grid [dataSource]="permitProductsData" (onToolbarPreparing)="onPermitProductGridToolbar($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false" 
    [showBorders]="true">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-selection mode="single"></dxo-selection>
    <dxi-column [width]="160" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">

        <dx-menu (onItemClick)="permitProductsActionColClick($event,data)" [items]="permitProductMenuItems">

        </dx-menu>

      </div>
    </dxi-column>
    <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
    <dxi-column *ngIf = "product_category_id == 9" dataField="gmdn_term" caption="GMDN Term Name"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9" dataField="product_strength"caption="Strength"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9" dataField="units_of_strength"caption="Units of Strength"></dxi-column>
    <dxi-column *ngIf = "product_category_id !== 9"dataField="dosage_form"caption="Dosage Form"></dxi-column>
    <dxi-column *ngIf = "product_category_id == 9" dataField="manufacturer_name"caption="Manufacturer"></dxi-column>
    <dxi-column dataField="no_of_packs"caption="Number of Packs"></dxi-column> 
    <dxi-column dataField="currency_name"caption="Currency"></dxi-column>  
    <dxi-column dataField="pack_price"caption="Price Per Pack"></dxi-column>
    <dxi-column dataField="pack_size"caption="Pack Size"></dxi-column> 
    <dxi-column dataField="total_value" caption="Total Price (Packs)"></dxi-column>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-summary>
      <dxi-total-item
          column="total_value"
          summaryType="sum">
      </dxi-total-item>
  </dxo-summary>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
  </dx-data-grid>
</div>


<div class="row wizard-content">

  <div class="col-lg-12" *ngIf="sub_module_id == 82">
    <dx-data-grid [dataSource]="permitProductsData" (onToolbarPreparing)="onPermitVisaLicenseProductGridToolbar($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false"  [wordWrapEnabled]="true" 
    [showBorders]="true">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-selection mode="single"></dxo-selection>
    
    <dxi-column [width]="200" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">
        <dx-button text="Update Details(Batch/Quanties)" (click)="funcUpdateLicenseVisaprod(data.data)" 
        type="success" icon="edit" [elementAttr]="{ class: 'btn btn-primary' }">
        </dx-button>
      </div>
    </dxi-column>
    <dxi-column [width]="150" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate2">
      <div *dxTemplate="let data of 'cellTemplate2'">
        <dx-button text="Remove product" (click)="funcREmoveProductDetails(data.data)" 
        type="success" icon="trash" [elementAttr]="{ class: 'btn btn-danger' }">
        </dx-button>
      </div>
    </dxi-column>
    <dxi-column [width]="200" caption="Action" name="command-editing" [allowFiltering]="false"
      [allowSorting]="false" cellTemplate="cellTemplate3">
      <div *dxTemplate="let data of 'cellTemplate3'">
        <dx-button text="Uploads(Certificates)"  (click)="funcDownloadUploadedDocuments(data.data)" 
        type="success" icon="download" [elementAttr]="{ class: 'btn btn-primary' }">
        </dx-button>
      </div>
    </dxi-column>
    <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
    <dxi-column dataField="quantity"></dxi-column>
    <dxi-column dataField="packaging_units"></dxi-column>
    <dxi-column dataField="pack_size" caption="Pack Size"></dxi-column>
    <dxi-column dataField="product_batch_no" caption="Product Batch #(License Permit)"></dxi-column>
    <dxi-column dataField="product_manufacturing_date" caption="Mgf Date"></dxi-column>
    <dxi-column dataField="product_expiry_date" caption="Product Expiry Date"></dxi-column>
    <dxi-column dataField="currency_name"></dxi-column>
    <dxi-column dataField="unit_price"></dxi-column>
    <dxi-column dataField="total_value" caption="FOB Value"></dxi-column>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-summary>
      <dxi-total-item
          column="total_value"
          summaryType="sum">
      </dxi-total-item>
  </dxo-summary>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
  </dx-data-grid>

  </div>
</div>



<dx-popup class="popup"  [width]="funcpopWidth(80)" [height]="550" [showTitle]="true" title="Approved Visa Product Details" [dragEnabled]="false"  
  [closeOnOutsideClick]="false" [(visible)]="isApprovedVisaproductsPopupVisible">
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view>
          <dx-data-grid [dataSource]="approvedVisaProducts"  (onCellPrepared)="onVisaProductCellPrepared($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false" [wordWrapEnabled]="true" 
          [showBorders]="true">
          <dxo-filter-row [visible]="false"></dxo-filter-row>
          <dxo-search-panel [visible]="true">
          </dxo-search-panel>
          <dxo-selection mode="single"></dxo-selection>
          <dxi-column [width]="150" caption="Action(Edit/Delete)" name="command-editing" [allowFiltering]="false"
            [allowSorting]="false" cellTemplate="cellTemplate">
            <div *dxTemplate="let data of 'cellTemplate'">
              <dx-button text="Add/Select Product" (click)="funcSelectApprovedVisaProduct(data.data)"
            type="success" icon="edit" [elementAttr]="{ class: 'btn btn-primary' }">
          </dx-button>
            </div>
          </dxi-column>
          <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
          <dxi-column dataField="quantity" caption="Visa Quantity"></dxi-column>
          
          <dxi-column dataField="visabalance_quantity" caption="Balance (Quantity)"></dxi-column>
          <dxi-column dataField="packaging_units"></dxi-column>
          <dxi-column dataField="pack_size" caption="Pack Size"></dxi-column>
          <dxi-column dataField="currency_name"></dxi-column>
          <dxi-column dataField="unit_price"></dxi-column>
          <dxi-column dataField="total_value" caption="FOB Value"></dxi-column>
          
          <dxi-column dataField="permitprod_recommendation" caption="Product Acceptance"></dxi-column>
          
          <dxo-paging [enabled]="true">
          </dxo-paging>
          <dxo-summary>
            <dxi-total-item
                column="total_value"
                summaryType="sum">
            </dxi-total-item>
        </dxo-summary>
          <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
          </dxo-pager>
          <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
        </dx-data-grid>


    </dx-scroll-view>
  </div>
</dx-popup>


<dx-popup class="popup"  [width]="funcpopWidth(80)" [height]="550" [showTitle]="true" title="Batch Details" [dragEnabled]="false"
  [closeOnOutsideClick]="false" [(visible)]="isBatchPopupVisible">
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view>
    <div class="row no-padding">
      <div class="col-lg-12 ">
        <dx-data-grid [dataSource]="permitProductsData"  [height]="500" [remoteOperations]='true' 
          (onToolbarPreparing)="onRegisteredProductGridToolbar($event)"  [wordWrapEnabled]="true"  [columnHidingEnabled]="false"  [showBorders]="true">
          <dxo-filter-row [visible]="false"></dxo-filter-row>
          <dxo-search-panel [visible]="true">
          </dxo-search-panel>
          <dxo-paging [enabled]="true">
          </dxo-paging>
          <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
          </dxo-pager>
          
          <dxo-selection mode="single"></dxo-selection>
          <dxi-column dataField="batch_qty" caption="Batch Qty"></dxi-column>
          <dxi-column dataField="product_batch_no" caption="Product Batch No."></dxi-column>
          <dxi-column dataField="product_manufacturing_date"></dxi-column>
          <dxi-column dataField="product_expiry_date"></dxi-column>
          <dxo-paging [pageSize]="25"></dxo-paging> 
          <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>

        </dx-data-grid>
      </div>
    </div>
  </dx-scroll-view>
  </div>
</dx-popup>

<dx-popup class="popup"  [width]="funcpopWidth(80)" height="600" [showTitle]="true" title=" Products Details"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isPermitproductsAddPopupVisible">
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view>
      <dx-tab-panel (onItemClick)="onPermitsProductsTabCLick($event)">
        <dxi-item title="Products Details" icon="rowfield">
          <div *dxTemplate>
            <div class="row col-lg-12">
              <form role="form" class="row" enctype="multipart/form-data" role="form" 
                [formGroup]="permitProductsFrm"(ngSubmit)="onsavePermitProductdetails()">
                <div class="col-lg-12 row row-no-margin ">
                  <div class="col-lg-4 input-group" *ngIf =" is_registered == 1 && sub_module_id == 12">
                    <div class="col-lg-10  ">
                      <label class="control-label">Registration Number</label>
                      <dx-text-box placeholder="registration number" [readOnly]="[1, 2, 3, 4, 5, 6, 7,8, 11, 16].includes(product_category_id)"  formControlName="product_registration_no">
                      </dx-text-box>
                    </div>
                    <div class="col-lg-2">
                      <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px!important;" type="default" (click)="onSearchRegisteredProductApplication()" >
                        <i class="fa fa-search"></i>Search
                      </dx-button>
                    </div>
                </div>
                <div class="col-lg-4 input-group" *ngIf = "sub_module_id == 115 || sub_module_id == 49">
                  <div class="col-lg-10  ">
                    <label class="control-label">VC No.</label>
                    <dx-text-box placeholder="vc no" formControlName="vc_no" [readOnly]="true">
                    </dx-text-box>
                  </div>
                  <div class="col-lg-2" >
                    <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px  !important;" type="default" (click)="onSearchApprovedProductDetails()" ><i class="fa fa-plus"></i>ADD
                    </dx-button>
                  </div>
                </div> 
                <div class="col-lg-4 input-group">
                  <div class="col-lg-10  ">
                    <label class="control-label">Brand Name</label>
                    <dx-text-box formControlName="brand_name" [showClearButton]="true" 
                    [readOnly]="[1, 2, 3, 4, 5, 6, 7,8, 11, 16].includes(product_category_id)">
                    </dx-text-box>
                  </div>
                  <div class="col-lg-2">
                    <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px  !important;" type="default"[disabled]="is_registered ==1 || sub_module_id ==115" (click)="onSearchUnRegisteredRegisteredProductApplication()" ><i class="fa fa-search"></i>Search
                    </dx-button>
                  </div>
                </div>

                <div class="col-lg-4 input-group"*ngIf = "product_category_id == 9 && sub_module_id == 12">
                    <div class="col-lg-10  ">
                    <label class="control-label">GMDN Code</label>
                    <dx-text-box [readOnly]="true" 
                      formControlName="gmdn_code"
                      placeholder="GMDN Code" [showClearButton]="true">
                    </dx-text-box>
                      <input type="hidden" name="gmdn_id" value="gmdn_id" formControlName="gmdn_id" />
                  </div>
                  <div class="col-lg-2">
                    <dx-button  [elementAttr]="{ class: 'btn btn-primary pull-left'}" 
                      style="margin-top:30px  !important;"  text="Search Code"  
                      type="default" (onClick)="onSearchGmdnCodeData()">
                      <i class="fa fa-search"></i>Search
                    </dx-button>
                  </div>  
                </div> 

                <div class="col-lg-4" *ngIf = "product_category_id == 9   && sub_module_id == 12">
                  <label class="control-label">GMDN Term Name</label>
                  <dx-text-box formControlName="gmdn_term"[readOnly]="true"  placeholder="GMDN Term Name" [showClearButton]="true">
                  </dx-text-box>
                </div>

                <div class="col-lg-4" *ngIf = "product_category_id == 9   && sub_module_id == 12">
                  <label class="control-label">GMDN Term Definition</label>
                  <dx-text-box formControlName="gmdn_descriptor"[readOnly]="true"  placeholder="GMDN Term Definition" [showClearButton]="true">
                  </dx-text-box>
                </div>

                <div class="col-lg-4"*ngIf = "product_category_id !== 9">
                  <label class="control-label">Generic Name</label>
                  <dx-select-box [dataSource]="commonNameData" valueExpr="id" displayExpr="description" [searchEnabled]="true" formControlName="common_name_id"[readOnly]="product_category_id !== 10"
                    (onValueChanged)="onGetNarcoticPopUp($event)">
                  </dx-select-box>
                </div>

                <div class="col-lg-4" *ngIf = "(product_category_id == 8 && is_registered == 3)  
                  && sub_module_id == 12">
                  <label class="control-label">Product Type</label>
                  <dx-select-box [dataSource]="productTypeDta"   [readOnly]= "true"  valueExpr="id" displayExpr="name" [searchEnabled]="true" 
                   placeholder="Select Product Type"  formControlName="product_type_id">
                 </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "(product_category_id == 8 && is_registered == 4)  
                  && sub_module_id == 12">
                  <label class="control-label">Product FDC</label>
                  <dx-select-box [dataSource]="doseData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  
                    placeholder="dose" [readOnly]="true" formControlName="single_fixed_dose">
                  </dx-select-box>
                </div>

                <div class="col-lg-4" *ngIf = "sub_module_id == 12">
                  <label class="control-label">Product Category</label>
                  <dx-select-box [dataSource]="classcategoryData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  formControlName="class_category">
                  </dx-select-box>
                </div>

                <div class="col-lg-4" *ngIf = "product_category_id !== 9">
                  <label class="control-label">Active Ingredient</label>
                  <dx-select-box [dataSource]="ingredientsData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  
                  placeholder="Ingredients"  formControlName="ingredient_id">
                  </dx-select-box>
                </div>
                
                <div class="col-lg-4" *ngIf = "sub_module_id == 115 || sub_module_id == 49">
                  <label class="control-label">Approved Qty</label>
                  <dx-text-box formControlName="approved_qty" placeholder="Approved Qty" [readOnly]="true" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4" *ngIf = "sub_module_id == 115 || sub_module_id == 49">
                  <label class="control-label">Qty Shipped</label>
                  <dx-text-box [readOnly]="true" formControlName="qty_shipped" placeholder="Qty Shipped" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4 input-group" *ngIf = "sub_module_id == 115 || sub_module_id == 49">
                  <div class="col-lg-8">
                    <label class="control-label">No. of Batches</label>
                    <dx-text-box  [readOnly]="true" formControlName="no_of_batches">
                    </dx-text-box>
                  </div>
                  
                  <div class="col-lg-4">
                    <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px  !important;" type="default" (click)="onAddBatches()" ><i class="fa fa-plus"></i>Add Batch 
                    </dx-button>
                  </div>
                </div> 

                <div class="col-lg-4 input-group" >
                  <div class="col-lg-10">
                    <label class="control-label">Manufacturer</label>
                    <dx-text-box  formControlName="manufacturer_name" [readOnly]=true [showClearButton]="true">
            
                    </dx-text-box>
                  </div>   
                  <div class="col-lg-2">
                    <dx-button [disabled]="[1, 2, 3, 4, 5, 6, 7,8, 11, 16].includes(product_category_id) "
                    [disabled]="product_category_id !== 10"[elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px !important;"  text="Search Manufacturing Details"  type="default" (onClick)="funcSearchManufacturingSite()">
                          <i class="fa fa-search"></i>Search Details
                    </dx-button>
                  </div>
                </div> 
                
                <div class="col-lg-4"*ngIf = "product_category_id == 9 && sub_module_id == 12">
                  <label class="control-label">Medical Device Class Type</label>
                  <dx-select-box [dataSource]="devicesTypeData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  
                  placeholder="Medical Device Class Type"  formControlName="medical_device_class_type">
                  </dx-select-box>
                </div>

                <div class="col-lg-4" *ngIf = "product_category_id !== 9">
                  <label>Dosage Name</label>
                  <dx-select-box [dataSource]="dosageFormData" [readOnly]="product_category_id !== 10" valueExpr="id" placeholder="dosage form"
                  displayExpr="name" formControlName="dosage_form_id" [searchEnabled]="true">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "product_category_id !== 9">
                  <label>Product Strength</label>
                  <dx-text-box placeholder="product strength" [readOnly]="product_category_id !== 10"  formControlName="product_strength">
                  </dx-text-box>
                </div>                  
                <div class="col-lg-4"*ngIf = "product_category_id !== 9">
                  <label>Units of Strength</label>
                  <dx-select-box [dataSource]="siUnitsData"[readOnly]="product_category_id !== 10" valueExpr="id" placeholder="units of strength"
                    displayExpr="name" formControlName="si_unit_id" [searchEnabled]="true">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "business_type_id == 5  && sub_module_id == 12">
                  <label class="control-label">Item/Product</label>
                  <dx-text-box formControlName="name_of_material" placeholder="Item/Product">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"*ngIf="sub_module_id ==12">
                  <label class="control-label">Country of Origin</label>
                  <dx-tag-box
                    [items]="countries"  
                    valueExpr="id" 
                    displayExpr="name" 
                    [searchEnabled]="true"
                    (onSelectionChanged)="onSelectcountryOrigin($event)"
                    [readOnly]="[1, 2, 3, 4, 5, 6, 7,8, 11, 16].includes(product_category_id)"
                    [showSelectionControls]="true"
                    applyValueMode="useButtons"
                    placeholder="Country of Origin" 
                    formControlName="manufacturing_country_id">
                  </dx-tag-box>
                </div>
                <div class="col-lg-4" *ngIf="[1, 2, 3, 4, 5, 6, 7, 11, 16].includes(product_category_id)">
                  <label>Actual Product to be Imported</label>
                  <dx-select-box [dataSource]="productImportedData" valueExpr="id" placeholder="Actual Product to be Imported"  displayExpr="name"  
                  [searchEnabled]="true" formControlName="imported_product_id">
                  </dx-select-box>
                </div>
                <div class="col-lg-4"*ngIf = "product_category_id !== 9">
                  <label>Standard</label>
                  <dx-select-box [dataSource]="specificationData" valueExpr="id" displayExpr="name" 
                    [readOnly]="product_category_id !==10" [searchEnabled]="true"
                    placeholder="Quality Standard" formControlName="specification_type_id">
                  </dx-select-box>
                </div> 
                <div class="col-lg-4"*ngIf = "(is_registered == 1 && product_category_id == 8)">
                  <label>Pack Size</label>
                  <dx-select-box [dataSource]="packSizeData" valueExpr="id" displayExpr="pack_size"
                   [searchEnabled]="true" (onSelectionChanged)="onPackSizeCboSelect($event)"
                    placeholder="Pack Size" formControlName="pack_size">
                  </dx-select-box>
                </div> 
                <div class="col-lg-4"*ngIf = "(is_registered == 2 && product_category_id !==9)">
                  <label>Pack Size</label>
                  <dx-text-box placeholder="Pack Size" [readOnly]= "product_category_id ==8" formControlName="pack_size" >
                  </dx-text-box>
                </div> 

                <div class="col-lg-4"*ngIf = "(is_registered == 1 && [1, 2, 3, 4, 5, 6, 7, 11, 16].includes(product_category_id) )">
                  <label>Pack Size</label>
                  <dx-text-box placeholder="Pack Size" formControlName="pack_size" >
                  </dx-text-box>
                </div> 

                <div class="col-lg-4"*ngIf ="(is_registered == 2 && product_category_id ==9)">
                  <label>Pack Size</label>
                  <dx-text-box placeholder="Pack Size" formControlName="pack_size" >
                  </dx-text-box>
                </div> 
                <div class="col-lg-4"*ngIf ="(is_registered == 1 && product_category_id ==9)">
                  <label>Pack Size</label>
                  <dx-text-box placeholder="Pack Size" formControlName="pack_size" >
                  </dx-text-box>
                </div> 
                <div class="col-lg-4" *ngIf = "(sub_module_id == 12 && product_category_id !==9)">
                  <label>Number of Units Per  Packs </label>
                  <dx-text-box placeholder="Number of units per pack" [readOnly]="product_category_id == 8"formControlName="no_of_units" >
                  </dx-text-box>
                </div>
                <div class="col-lg-4" *ngIf = "product_category_id == 9">
                  <label>Number of Units Per  Packs </label>
                  <dx-text-box placeholder="Number of units per pack" formControlName="no_of_units" >
                  </dx-text-box>
                </div>
                <div class="col-lg-4" *ngIf = "sub_module_id == 12">
                  <label>Number of packs</label>
                  <dx-text-box placeholder="Number of packs"   formControlName="no_of_packs">
                  </dx-text-box>
                </div>

                <div class="col-lg-4" *ngIf = "sub_module_id == 12">
                  <label>Price (Per Pack) (FOB)</label>
                  <dx-text-box placeholder="Price (Per Pack) (FOB)"formControlName="pack_price">
                  </dx-text-box>
                </div>

                <div class="col-lg-4" *ngIf = "sub_module_id == 12">
                  <label>Price (Per Unit) (FOB)</label>
                  <dx-text-box placeholder="Price (Per Unit) (FOB)"[readOnly]="true"formControlName="unit_price">
                  </dx-text-box>
                </div>

                <div class="col-lg-4" *ngIf = " sub_module_id == 12">
                  <label >Total Number Units </label>
                  <dx-text-box placeholder="Total Number Units " [readOnly]="true" formControlName="total_units">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"*ngIf = "is_registered !== 2 && product_category_id !==9">
                    <label>Units for Quantity</label>
                    <dx-select-box [dataSource]="quantityUnitsData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"[readOnly]="product_category_id ==8"
                      placeholder="Units for Quantity" formControlName="units_for_quantity">
                    </dx-select-box>
                </div> 
                <div class="col-lg-4"*ngIf = "is_registered !== 1 && product_category_id !==9">
                    <label>Units for Quantity</label>
                    <dx-select-box [dataSource]="quantityUnitsData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"[readOnly]="product_category_id ==8"
                      placeholder="Units for Quantity" formControlName="units_for_quantity">
                    </dx-select-box>
                </div> 

                <div class="col-lg-4"*ngIf = "is_registered == 2 && product_category_id ==9">
                    <label>Units for Quantity</label>
                    <dx-select-box [dataSource]="quantityData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"
                      placeholder="Units for Quantity" formControlName="units_for_quantity">
                    </dx-select-box>
                </div> 
                <div class="col-lg-4"*ngIf = "is_registered == 1 && product_category_id ==9">
                    <label>Units for Quantity</label>
                    <dx-select-box [dataSource]="quantityData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"
                      placeholder="Units for Quantity" formControlName="units_for_quantity">
                    </dx-select-box>
                </div> 
                <div class="col-lg-4" *ngIf="sub_module_id == 12">
                  <label >Total Price (Pack) (FOB) </label>
                  <dx-text-box placeholder="Total Price (Pack) (FOB) " [readOnly]="true"
                    formControlName="total_value">
                  </dx-text-box>
                </div>
                <div class="col-lg-4" *ngIf="sub_module_id == 12">
                  <label>Currency</label>
                  <dx-select-box [dataSource]="currencyData" valueExpr="id" placeholder="currency" 
                    displayExpr="name"
                    [searchEnabled]="true" formControlName="currency_id">
                  </dx-select-box> 
                </div>
                <div class="col-lg-4">
                  <label>HS Code</label>
                  <dx-select-box [dataSource]="hsCodeData" valueExpr="id" 
                  displayExpr="name" [searchEnabled]="true" placeholder="HS Code" formControlName="hs_code_id" (onSelectionChanged)="onHsCodeCboSelect($event)">
                  </dx-select-box>
                </div> 
                <div class="col-lg-6 ">
                  <label for="ti" class="control-label">HSC Code Description </label>
                  <dx-text-box formControlName="hs_code_description" readOnly= true [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"*ngIf = "sub_module_id == 15">
                  <label>Total Quantity</label>
                    <dx-text-box placeholder="Total Quantity " formControlName="declaration_quantity">
                    </dx-text-box>
                </div> 


                  <div class="col-lg-4" *ngIf="sub_module_id == 115 || sub_module_id == 49"> 
                    <label class="control-label">Total Weight</label>
                    <dx-text-box formControlName="total_weight"  
                                placeholder="total weight" 
                                [showClearButton]="true">
                    </dx-text-box>
                    </div>
                  <div class="col-lg-12 ">
                    <input type="hidden" formControlName="id" />
                    <input type="hidden" formControlName="product_id" />
                    <input type="hidden" formControlName="is_registered" />
                    <input type="hidden" formControlName="product_category_id"/>
                    <input type="hidden" formControlName="product_origin_id"/>
                    <input type="hidden" formControlName="port_id" />
                    <input type="hidden" formControlName="vc_quantity" />
                    <input type="hidden" formControlName="manufacturer_id"/>
                    <input type="hidden" formControlName="atc_code_id"/>
                    <input type="hidden" formControlName="product_category"/>

                    <!-- <input type="hidden" formControlName="prodcertificate_no" />  -->
                  </div>
                  <div>
                  <dx-button text="Save Products Details" 
                    (onClick)="onsavePermitProductdetails()" type="success" icon="save"
                    [elementAttr]="{ class: 'btn btn-primary; pull-right' }">
                  </dx-button>
                </div>
              </div>
              </form>
              </div>
                </div>
            </dxi-item>
        
        </dx-tab-panel>

    </dx-scroll-view>
    </div>
    </dx-popup>


<dx-popup class="popup"  [width]="funcpopWidth(80)" height="600" [showTitle]="true" title=" Products Details"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isPermitproductsDeclarationAddPopupVisible">
  <div *dxTemplate="let data of 'content'">
    <dx-scroll-view>
      <dx-tab-panel (onItemClick)="onPermitsProductsTabCLick($event)">
        <dxi-item title="Products Details" icon="rowfield">
          <div *dxTemplate>
            <div class="row col-lg-12">
              <form role="form" class="row" enctype="multipart/form-data" role="form" 
                [formGroup]="permitProductsFrm"(ngSubmit)="onsavePermitProductdetails()">
                <div class="col-lg-12 row row-no-margin ">
                  <div class="col-lg-4">
                    <label class="control-label">Registration Number</label>
                    <dx-text-box placeholder="registration number" 
                    [readOnly]="true"  formControlName="product_registration_no">
                    </dx-text-box>
                </div>
                <div class="col-lg-4 input-group" *ngIf = "sub_module_id == 115 || sub_module_id == 49">
                  <div class="col-lg-10  ">
                    <label class="control-label">VC No.</label>
                    <dx-text-box placeholder="vc no" formControlName="vc_no" [readOnly]="true">
                    </dx-text-box>
                  </div>
                  <div class="col-lg-2" >
                    <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px  !important;" type="default" (click)="onSearchApprovedProductDetails()" ><i class="fa fa-plus"></i>ADD
                    </dx-button>
                  </div>
                </div> 
                <div class="col-lg-4 ">
                  <label class="control-label">Brand Name</label>
                  <dx-text-box formControlName="brand_name" [showClearButton]="true" 
                    [readOnly]="true">
                  </dx-text-box>                  
                </div>
                <div class="col-lg-4 "*ngIf = "surgical_product_category">
                  <label class="control-label">GMDN Code</label>
                  <dx-text-box [readOnly]="true" 
                    formControlName="gmdn_code"
                    placeholder="GMDN Code" [showClearButton]="true">
                  </dx-text-box>
                  <input type="hidden" name="gmdn_id" value="gmdn_id" formControlName="gmdn_id" /> 
                </div> 
                <div class="col-lg-4" *ngIf = "surgical_product_category">
                  <label class="control-label">GMDN Term Name</label>
                  <dx-text-box formControlName="gmdn_term"[readOnly]="true"  placeholder="GMDN Term Name" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4" *ngIf = "surgical_product_category">
                  <label class="control-label">GMDN Term Definition</label>
                  <dx-text-box formControlName="gmdn_descriptor"[readOnly]="true"  placeholder="GMDN Term Definition" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"*ngIf = "dugs_product_category">
                  <label class="control-label">Generic Name</label>
                  <dx-select-box [dataSource]="commonNameData" valueExpr="id" displayExpr="description" [searchEnabled]="true" formControlName="common_name_id"[readOnly]="true">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "dugs_product_category">
                  <label class="control-label">Active Ingredient</label>
                  <dx-select-box [dataSource]="ingredientsData" valueExpr="id" displayExpr="name" [searchEnabled]="true" [readOnly]="true"
                  placeholder="Ingredients"  formControlName="ingredient_id">
                  </dx-select-box>
                </div>
                
                <div class="col-lg-4">
                  <label class="control-label">Approved Qty (Packs)</label>
                  <dx-text-box formControlName="approved_qty" placeholder="Approved Qty (Packs)" [readOnly]="true" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                  <label class="control-label">Approved Qty (Units)</label>
                  <dx-text-box [readOnly]="true" formControlName="qty_shipped" placeholder="Approved Qty (Units)" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4 input-group">
                  <div class="col-lg-8">
                    <label class="control-label">No. of Batches</label>
                    <dx-text-box  [readOnly]="true" formControlName="no_of_batches">
                    </dx-text-box>
                  </div>
              
                  <div class="col-lg-4">
                    <dx-button [elementAttr]="{ class: 'btn btn-primary pull-left'}" style="margin-top:32px  !important;" type="default" (click)="onAddBatches()" ><i class="fa fa-plus"></i>Add Batch 
                    </dx-button>
                  </div>
                </div> 
                <div class="col-lg-4">
                  <label class="control-label">Shipped Qty (Packs)</label>
                  <dx-text-box  [readOnly]="true" formControlName="shipped_qty_packs" >
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                  <label class="control-label">Shipped Qty (Units)</label>
                  <dx-text-box  [readOnly]="true" formControlName="shipped_qty_units">
                  </dx-text-box>
                </div>

                <div class="col-lg-4" >
                  <label class="control-label">Manufacturer</label>
                  <dx-text-box  formControlName="manufacturer_name" [readOnly]=true [showClearButton]="true">
                  </dx-text-box>
                </div>  
                <div class="col-lg-4"*ngIf = "surgical_product_category">
                  <label class="control-label">Medical Device Class Type</label>
                  <dx-select-box [dataSource]="devicesTypeData" valueExpr="id" displayExpr="name" [searchEnabled]="true"  
                  placeholder="Medical Device Class Type"  formControlName="medical_device_class_type">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "dugs_product_category">
                  <label>Dosage Name</label>
                  <dx-select-box [dataSource]="dosageFormData" [readOnly]="true" valueExpr="id" placeholder="dosage form"
                  displayExpr="name" formControlName="dosage_form_id" [searchEnabled]="true">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf = "dugs_product_category">
                  <label>Product Strength</label>
                  <dx-text-box placeholder="product strength" [readOnly]="true"  formControlName="product_strength">
                  </dx-text-box>
                </div>                  
                <div class="col-lg-4"*ngIf = "dugs_product_category">
                  <label>Units of Strength</label>
                  <dx-select-box [dataSource]="siUnitsData"[readOnly]="product_category_id !== 10" valueExpr="id" placeholder="units of strength"
                    displayExpr="name" formControlName="si_unit_id" [searchEnabled]="true">
                  </dx-select-box>
                </div>
                <div class="col-lg-4" *ngIf="raw_materials_category">
                  <label class="control-label">Item/Product</label>
                  <dx-text-box formControlName="name_of_material" placeholder="Item/Product">
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                  <label>Number of Shippers/Cartons</label>
                  <dx-text-box placeholder="Number of Shippers/Cartons" formControlName="no_of_shippers" >
                  </dx-text-box>
                </div> 
                <div class="col-lg-4">
                  <label>Number of Pallets </label>
                  <dx-text-box placeholder="Number of Pallets" formControlName="no_of_pallets" >
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                    <label>Units for Quantity</label>
                    <dx-select-box [dataSource]="quantityUnitsData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"[readOnly]="true"
                      placeholder="Units for Quantity" formControlName="units_for_quantity">
                    </dx-select-box>
                </div> 
                <div class="col-lg-4">
                  <label class="control-label">Supplementary Value</label>
                  <dx-text-box   formControlName="supplementary_value" >
                  </dx-text-box>
                </div>
               <div class="col-lg-4">
                    <label>HS Code</label>
                    <dx-select-box [dataSource]="hsCodeData" valueExpr="id" displayExpr="name" 
                      [searchEnabled]="true"(onSelectionChanged)="onHsCodeCboSelect($event)"
                      placeholder="HS Code"readOnly= "true" formControlName="hs_code_id">
                    </dx-select-box>
                </div> 
                <div class="col-lg-4">
                  <label for="ti" class="control-label">HSC Code Description </label>
                  <dx-text-box formControlName="hs_code_description" readOnly= "true" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"*ngIf = "sub_module_id == 15">
                  <label>Total Quantity</label>
                    <dx-text-box placeholder="Total Quantity " formControlName="declaration_quantity">
                    </dx-text-box>
                  </div> 
                   <div class="col-lg-4" *ngIf="sub_module_id == 115 || sub_module_id == 49"> 
                    <label class="control-label">Weight (Kg)</label>
                    <dx-text-box formControlName="total_weight"  
                      placeholder="total weight" 
                      [showClearButton]="true">
                    </dx-text-box>
                    </div>
                  <div class="col-lg-4" *ngIf="shouldDisplaySelectBox()">
                    <label>is this VC being fully Utilised?</label>
                    <dx-select-box  [dataSource]="confirmDataParam" displayExpr="name" valueExpr="name"  [searchEnabled]="true" formControlName="declare_product_id">
                    </dx-select-box>
                  </div> 
                  <div class="col-lg-12 ">
                    <input type="hidden" formControlName="id" />
                    <input type="hidden" formControlName="product_id" />
                    <input type="hidden" formControlName="is_registered" />
                    <input type="hidden" formControlName="product_category_id"/>
                    <input type="hidden" formControlName="product_origin_id"/>
                    <input type="hidden" formControlName="port_id" />
                    <input type="hidden" formControlName="vc_quantity"/>
                    <input type="hidden" formControlName="pack_price"/>
                    <input type="hidden" formControlName="currency_id" />
                    <input type="hidden" formControlName="manufacturer_id"/>
                    <!-- <input type="hidden" formControlName="prodcertificate_no" />  -->
                  </div>
                  <div>
                  <dx-button text="Save Products Details" 
                    (onClick)="onsavePermitProductdetails()" type="success" icon="save"
                    [elementAttr]="{ class: 'btn btn-primary; pull-right' }">
                  </dx-button>
                </div>
              </div>
              </form>
              </div>
                </div>
            </dxi-item>
        
        </dx-tab-panel>

    </dx-scroll-view>
    </div>
    </dx-popup>



    <dx-popup class="popup"  [width]="funcpopWidth(80)" height="600" [showTitle]="true" title="Narcotic, Psychotropic and Precursors"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isNarcoticproductsAddPopupVisible">
  <div *dxTemplate="let data of 'content'">

    <dx-scroll-view>
      
        <dx-tab-panel (onItemClick)="onPermitsProductsTabCLick($event)">
            <dxi-item title="Narcotic and 
Psychotropic Permit application" icon="rowfield">
                <div *dxTemplate>
                    <div class="row col-lg-12">
          <form role="form" class="row" enctype="multipart/form-data" role="form" [formGroup]="narcoticProductsFrm"
          (ngSubmit)="onsaveNarcoticPermitProductdetails()">
                <div class="col-lg-12 row row-no-margin ">

                  <div class="col-lg-4">
                      <label class="control-label">Brand Name</label>
                        <dx-text-box formControlName="brand_name" [readOnly]='isRegisteredLevel' placeholder="Enter Brand Name" [showClearButton]="true">
                        </dx-text-box>
                    </div>
                  <div class="col-lg-4">
                            <label class="control-label">Controlled Substance</label>
                            <dx-select-box [dataSource]="controlledSubstanceData" valueExpr="id" displayExpr="name" [searchEnabled]="true" formControlName="controlled_substance_id">
                            </dx-select-box>
                        </div>
                          <div class="col-lg-4">
                            <label class="control-label">Generic Name</label>
                            <dx-select-box [dataSource]="commonNameData" valueExpr="id" displayExpr="name" [searchEnabled]="true" formControlName="common_name_id">
                            </dx-select-box>
                        </div>

                    <div class="col-lg-4">
                      <label class="control-label">Scheduled Number</label>
                        <dx-text-box formControlName="scheduled_number" [readOnly]='true' [showClearButton]="true">
                        </dx-text-box>
                    </div>

                    <div class="col-lg-4">
                      <label class="control-label">Conversion Factor</label>
                        <dx-text-box formControlName="convertion_factor" [readOnly]='true'  [showClearButton]="true">
                        </dx-text-box>
                    </div>

                     <div class="col-lg-4">
                      <label class="control-label">Controlled Substance Schedule</label>
                        <dx-text-box formControlName="controlled_substance_schedule" [readOnly]='true'  [showClearButton]="true">
                        </dx-text-box>
                    </div>
                    <div class="col-lg-4">
                      <label class="control-label">Strength/Unit Dosage Form</label>
                        <dx-text-box formControlName="product_strength" [readOnly]='isRegisteredLevel' [showClearButton]="true">
                        </dx-text-box>
                    </div>

                    <div class="col-lg-4">
                    <label class="control-label">Batch Number</label>
                    <dx-text-box  formControlName="product_batch_no">
                    </dx-text-box>
                  </div>

                   <div class="col-lg-4">
                      <label>Manufacturing Date</label>
                      <dx-date-box  dateSerializationFormat = "yyyy-MM-dd" placeholder="Manufacturing Date" formControlName="product_manufacturing_date">
                      </dx-date-box>
                    </div>

                    <!-- <div class="col-lg-3" *ngIf ="sub_module_id == 115">
                      <label class="control-label">No. of Batches</label>
                        <dx-text-box formControlName="no_of_batches" placeholder="No. of Batches" [showClearButton]="true" >
                        </dx-text-box>
                         (ngModelChange)="generateBatchQtyFields()"
                    </div> -->

                    <!-- <div class="col-lg-3" *ngIf ="sub_module_id == 115" formArrayName="batch_qty">
                      <div *ngFor="let control of batchQtyArray.controls; let i = index">
                        <label>Batch Qty {{ i + 1 }}</label>
                        <dx-text-box [formControl]="control"></dx-text-box>
                      </div>
                    </div> -->
                      
                  <!-- <div class="col-lg-4 ">
                    <label>Generic Name</label>
                    <dx-text-box placeholder="Brand Name/Devices Name" [readOnly] = 'isRegisteredLevel' formControlName="generic_name_id">
                    </dx-text-box>
                  </div> -->
   

                
               <!--  <div class="col-lg-4" >
                  <label>Active Ingredient</label>
                  <dx-text-box [readOnly]="isRegisteredLevel" placeholder="active ingredient" 
                     formControlName="active_ingredient" >
                  </dx-text-box>
                </div> -->
                
                  <div class="col-lg-4">
                    <label>Dosage Type</label>
                    <dx-select-box [dataSource]="dosageFormData" [readOnly]="isRegisteredLevel" valueExpr="id" placeholder="dosage form"
                        displayExpr="name" formControlName="dosage_form_id" [searchEnabled]="true">
                      </dx-select-box>
                  </div>

                  <div class="col-lg-4">
                      <label>Number of Tertiary Packs</label>
                      <dx-number-box placeholder="number of tertiary packs"  (ngModelChange)="updateNarcoticUnits()" formControlName="no_of_packs_tertiary">
                      </dx-number-box>
                    </div>

                   <div class="col-lg-4">
                    <label>Number of Secondary Packs </label>
                    <dx-text-box placeholder="number of secondary packs "  (ngModelChange)="updateNarcoticUnits()" formControlName="no_of_packs_secondary">
                    </dx-text-box>
                  </div>

                   <div class="col-lg-4">
                    <label>Packs Per Tertiary Packs </label>
                    <dx-text-box placeholder="pack type " formControlName="packs_per_tertiary_pack" (ngModelChange)="updateNarcoticUnits()" >
                    </dx-text-box>
                  </div>
                    <div class="col-lg-4">
                    <label>Number of Primary Packs per secondary pack</label>
                    <dx-text-box placeholder="number of primary packs"  (ngModelChange)="updateNarcoticUnits()" formControlName="no_of_packs">
                    </dx-text-box>
                  </div>

                  <div class="col-lg-4">
                    <label>Number of Units Per Primary Packs </label>
                    <dx-text-box placeholder="pack type " formControlName="no_of_units" (ngModelChange)="updateNarcoticUnits()">
                    </dx-text-box>
                  </div>

                  <div class="col-lg-4">
                    <label>Type of Primary Pack</label>
                    <dx-select-box [dataSource]="deviceTypeData" valueExpr="id" placeholder="type of primary pack"
                      displayExpr="name" formControlName="container_type_id" [searchEnabled]="true">
                    </dx-select-box>
                  </div> 
                  <div class="col-lg-4">
                    <label>Total Salt Quantity per Dosage Form</label>
                    <dx-text-box placeholder="Total Salt Quantity "  (ngModelChange)="updateNarcoticUnits()" formControlName="total_salt_quantity">
                    </dx-text-box>
                  </div>

                  <div class="col-lg-4">
                    <label>Total Units </label>
                    <dx-text-box placeholder="Total Units "  [value]="totalUnits" [readOnly]="true" formControlName="total_narcotic_units" (ngModelChange)="updateNarcoticUnits()">
                    </dx-text-box>
                  </div>
                  <div class="col-lg-4">
                    <label>Total Base </label>
                    <dx-text-box  [value]="totalSalt" [readOnly]="true" formControlName="total_narcotic_base" (ngModelChange)="updateNarcoticUnits()">
                    </dx-text-box>
                  </div>
              
                    
                  <div class="col-lg-12 ">
                    <input type="hidden" formControlName="id" />
                    <input type="hidden" formControlName="product_id" />
                    <input type="hidden" formControlName="is_registered" />
                    <input type="hidden" formControlName="product_category_id" />
                    <input type="hidden" formControlName="port_id" />
                    <input type="hidden" formControlName="vc_quantity" />
                    <!-- <input type="hidden" formControlName="prodcertificate_no" />  -->
                  </div>
                  <div>
                  <dx-button text="Save Products Details" [disabled]="!narcoticProductsFrm.valid"
                    (onClick)="onsaveNarcoticPermitProductdetails()" type="success" icon="save"
                    [elementAttr]="{ class: 'btn btn-primary; pull-right' }">
                  </dx-button>
                </div>
</div>
              </form>
              </div>
                </div>
            </dxi-item>
        
            <!-- <dxi-item title="Supporting Documents(Certificate of Analysis/ Certificate of Conformity/ Health Certificate/ Sanitary certificate )(Optional)" icon="rowfield">
              <div *dxTemplate>
                <app-application-documents  [document_type_id] ="document_type_id"  [permit_product_id] ="permit_product_id"  [section_id] ="section_id"  [module_id] ="module_id" [status_id] ="status_id" [sub_module_id] ="sub_module_id" [application_code] ="application_code"></app-application-documents>
              </div>
          </dxi-item> -->
        
        </dx-tab-panel>

    </dx-scroll-view>
    </div>
    </dx-popup>



    <dx-popup class="popup" [width]="1050" [height]="450" 
  [showTitle]="true" title="Registered Product Applications" [dragEnabled]="false"
  [closeOnOutsideClick]="false" [(visible)]="isRegisteredProductsWinshow">
  <div *dxTemplate="let data of 'content'" class="row">
    <dx-data-grid class="table row-border hover" [remoteOperations]='true' 
      [dataSource]="registeredProductsDetails" keyExpr="id" >
        <dxo-filter-row [visible]="false"></dxo-filter-row>
        <dxo-search-panel [visible]="true">
        </dxo-search-panel>
        <dxo-paging [enabled]="true">
        </dxo-paging>
        <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
        </dxo-pager>
        <dxo-export [enabled]="true" fileName="registeredProducts" 
          [allowExportSelectedData]="true"></dxo-export>
        <dxo-selection mode="single"></dxo-selection>
        <dxi-column caption="Actions" name="command-editing" 
        [allowFiltering]="false" [allowSorting]="false"
        cellTemplate="cellTemplate">
        <div *dxTemplate="let data of 'cellTemplate'">
          <a (click)="funSelectRegisteredProdcustsApp(data)" class="action-btn"><i class="fa fa-edit"></i>Select</a>&nbsp;
        </div>
      </dxi-column>
        <dxi-column dataField="" caption="BUBU"></dxi-column>
          <dxi-column dataField="" caption="NON-BUBU"></dxi-column>
          <dxi-column dataField="country_oforigin_id" caption="Country of Origin"></dxi-column>
          <dxi-column dataField="brand_name" caption="Specific Products"></dxi-column>
        <!-- <dxi-column dataField="classification_name"></dxi-column>
        <dxi-column dataField="certificate_no"></dxi-column>
        <dxi-column dataField="expiry_date"></dxi-column>
        <dxi-column dataField="applicant_name" caption="Registrant"></dxi-column>
        <dxi-column dataField="local_agent"></dxi-column> -->
       
        <dxo-paging [pageSize]="50"></dxo-paging>
    </dx-data-grid>

  </div>
</dx-popup>
   
<dx-popup class="popup"  [width]="funcpopWidth(80)" height="funcpopHeight(60)" [showTitle]="true" title="Batch Details"
[dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isAddBatchPopupVisible">
<div *dxTemplate="let data of 'content'">
  <dx-scroll-view>
    <dx-tab-panel  (onItemClick)="onPermitsProductsTabCLick($event)">
      <dxi-item title="Batch Details" icon="rowfield">
          <div *dxTemplate>
            <div class="row col-lg-12">
              <form role="form" class="row" enctype="multipart/form-data" role="form" [formGroup]="productBatchdetailsfrm"
              (ngSubmit)="onsavePermitProductdetails()">
              <div class="col-lg-12 row row-no-margin ">
                <div class="col-lg-4">
                  <label class="control-label">Batch Qty (Packs)</label>
                  <dx-text-box formControlName="batch_qty" placeholder="Batch Qty" [showClearButton]="true" (onValueChanged)="loadBatchunits($event)" >
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                  <label class="control-label">Batch Qty (Units)</label>
                  <dx-text-box formControlName="batch_units"[readOnly]="true" placeholder="Batch Qty (Units)" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4">
                  <label class="control-label">Batch No.</label>
                  <dx-text-box formControlName="product_batch_no" placeholder="Batch No" [showClearButton]="true">
                  </dx-text-box>
                </div>
                <div class="col-lg-4"> 
                  <label>Manufacturing Date</label>
                  <dx-date-box  dateSerializationFormat = "yyyy-MM-dd" placeholder="Manufacturing Date" formControlName="product_manufacturing_date">
                  </dx-date-box>
                </div>
                <div class="col-lg-4"> 
                  <label>Expiry Date</label>
                  <dx-date-box  dateSerializationFormat = "yyyy-MM-dd" placeholder="Expiry Date" formControlName="product_expiry_date">
                  </dx-date-box>
                </div>
                <div class="col-lg-12 ">
                  <input type="hidden" formControlName="id"/>
                  <input type="hidden" formControlName="product_id"/>
                </div>
                <dx-button text="Save Batch Details" [disabled]="!productBatchdetailsfrm.valid"
                  (onClick)="onsaveBatchProductdetails()" type="success" icon="save"
                  [elementAttr]="{ class: 'btn btn-primary; pull-right' }">
                </dx-button>
              </div>
            </form>
          </div>
          </div>
      </dxi-item>
  </dx-tab-panel>
  </dx-scroll-view>
  </div>
  </dx-popup>
<dx-popup class="popup"  [width]="funcpopWidth(40)" [height]="400" [showTitle]="true" title="Add Details" [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="addproductCommonNameModal">
  
  <div *dxTemplate="let data of 'content'" >
  <dx-scroll-view>
        <form [formGroup]="addProductParamsdetailsfrm" class="col-lg-12  div-nopadding" style="background: #fff;" enctype="multipart/form-data" role="form" (ngSubmit)="onSaveNewGenericDetails()">
            <div class="col-lg-12">
              <label class="control-label">Name</label>
              <dx-text-box formControlName="name" placeholder="name" [showClearButton]="true">
              </dx-text-box>
            </div>
            <div class="col-lg-12">
              <label class="control-label">Description</label>
              <dx-text-area formControlName="description" placeholder="description" >
              </dx-text-area>
            </div>
            <!-- <input type='hidden' value='{{section_id}}' formControlName="section_id"/> -->
            <input type='hidden' value = 'par_common_names' formControlName="tablename"/>

            <div class="col-lg-12">
                <dx-button
                    text="Save Details"
                    type="success"
                    icon="fa fa-plus"
                    [elementAttr]="{  class: 'pull-left' }"
                    (onClick)="onSaveNewGenericDetails()">
                </dx-button>
              </div>
          </form>
        </dx-scroll-view>
  </div>
</dx-popup>


<dx-popup class="popup" [width]="funcpopWidth(65)" [height]=620 [showTitle]="true" title="Add Manufacturer" [dragEnabled]="false" [closeOnOutsideClick]="" [(visible)]="isnewmanufacturerModalShow">
  
  <div *dxTemplate="let data of 'content'" class="row">
    <dx-scroll-view>
      <div class="col-lg-12">
          <form enctype="multipart/form-data" role="form" [formGroup]="manufacturerFrm" (ngSubmit)="onAddManufacturerDetails()">

              <div class="row">

                  <div class="col-xs-12 col-md-6 col-lg-6 col-xl-6">

                      <label class="control-label">FPP Manufacturer</label>
                      <dx-text-box formControlName="name">
                      </dx-text-box>

                  </div>
                  <div class="col-xs-12 col-md-6 col-lg-6 col-xl-6">
                      <label class="control-label">Country</label>

                      <dx-select-box [dataSource]="countries" valueExpr="id" displayExpr="name" placeholder="Select Country" (onSelectionChanged)="onCoutryCboSelect($event)" [searchEnabled]="true" formControlName="country_id">
                      </dx-select-box>
                  </div>
                  <div class="col-xs-12 col-md-6 col-lg-6 col-xl-6">
                      <label for="ti" class="control-label">Region/City (Optional)</label>

                      <dx-select-box [dataSource]="regions" valueExpr="id" displayExpr="name" [searchEnabled]="true" formControlName="region_id">
                      </dx-select-box>

                  </div>
                  <div class="col-xs-12 col-md-6 col-lg-6 col-xl-6">
                      <label for="ti" class="control-label">Email Address</label>
                      <dx-text-box formControlName="email_address" placeholder="Email Address">
                      </dx-text-box>
                  </div>
                  <div class="col-xs-12 col-md-6 col-lg-6 col-xl-6">
                      <label for="ti" class="control-label">Postal Address</label>
                      <dx-text-box formControlName="postal_address" placeholder="Postal Address">
                      </dx-text-box>
                  </div>
                  <div class="col-lg-12">
                    <label class="control-label">Physical Address</label>

                    <dx-text-area [height]="60" formControlName="physical_address" placeholder="Physical Address">
                    </dx-text-area>
                </div>
                  <div class="col-lg-12 btn-margin-5">
                      <br />
                      <button type="submit" (submit)="onAddManufacturerDetails()" [disabled]="!manufacturerFrm.valid" class="btn btn-primary"><i
                        class="fa fa-user"></i> Save Manufacturer</button>
                  </div>
              </div>
          </form>
      </div>
    </dx-scroll-view>
  </div>
</dx-popup>


<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="600" [showTitle]="true" title="Manufacturing Site Details"
[dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isManufacturerSitePopupVisible">
<div *dxTemplate="let data of 'content'">
  <dx-scroll-view>
      <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true" [wordWrapEnabled]="true"   [columnHidingEnabled]="true"   (onToolbarPreparing)="onManufacturerPreparing($event)" [dataSource]="manufacturersData" [remoteOperations]='true'   keyExpr="id">
                <dxo-filter-row [visible]="false"></dxo-filter-row>
                <dxo-search-panel [visible]="true">
                </dxo-search-panel>
                <dxo-paging [enabled]="true">
                </dxo-paging>
                <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
                </dxo-pager>
                <dxo-export [enabled]="true" fileName="manufacturingFile" [allowExportSelectedData]="true"></dxo-export>
                <dxo-selection mode="single"></dxo-selection>
                <dxo-group-panel [visible]="true"></dxo-group-panel>
                <dxi-column [width]="150" caption="Action" name="command-editing" [allowFiltering]="false" [allowSorting]="false" cellTemplate="cellTemplate">
                    <div *dxTemplate="let data of 'cellTemplate'">
                        
                        <dx-button text="Select Manufacturer" (click)="funcSelectManufacturer(data)"
                        type="success" icon="edit" [elementAttr]="{ class: 'btn btn-primary' }">
                      </dx-button>
                    </div>
                </dxi-column>
                <dxi-column dataField="manufacturer_name"></dxi-column>
                <dxi-column dataField="country"></dxi-column>
                <dxi-column dataField="region"></dxi-column>
                <dxi-column dataField="district"></dxi-column>
                <dxi-column dataField="physical_address"></dxi-column>
                <dxi-column dataField="postal_address"></dxi-column>
                <dxi-column dataField="email_address"></dxi-column>
              
            <dxo-paging [pageSize]="50"></dxo-paging>
      </dx-data-grid>
    </dx-scroll-view>
  </div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="450" [showTitle]="true" title="Document Preview" [dragEnabled]="false"
  [closeOnOutsideClick]="true" [(visible)]="isDocumentPreviewDownloadwin">
  <div *dxTemplate="let data of 'content'" class="row">
        
      <dx-scroll-view>
            <app-application-documents  [document_type_id] ="document_type_id"  [permit_product_id] ="permit_product_id"  [section_id] ="section_id"  [module_id] ="module_id" [status_id] ="status_id" [sub_module_id] ="sub_module_id" [application_code] ="application_code"></app-application-documents>
      </dx-scroll-view>
  </div>
</dx-popup>


<dx-popup class="popup" [width]="funcpopWidth(90)" [height]="600" [showTitle]="true" title="Uploaded Invoice details " [dragEnabled]="false"
  [closeOnOutsideClick]="true" [(visible)]="isUploadedInvoiceProductsWin">
  <div *dxTemplate="let data of 'content'" class="row">
        
      <dx-scroll-view>
        <dx-data-grid [dataSource]="permitUploadedProductsData"  [wordWrapEnabled]="true"  (onToolbarPreparing)="onPermitUploadProductGridToolbar($event)"  [allowColumnResizing]="true" [columnHidingEnabled]="false" 
        [showBorders]="true">
        <dxo-filter-row [visible]="false"></dxo-filter-row>
        <dxo-search-panel [visible]="true">
        </dxo-search-panel>
        <dxo-paging [enabled]="true">
        </dxo-paging>
        <dxo-selection mode="single"></dxo-selection>
        <dxi-column dataField="Syncronisation Status" caption="syncronisation_status"></dxi-column>
        <dxi-column dataField="brand_name" caption="Brand Name"></dxi-column>
        <dxi-column dataField="product_registration_no" caption="Certificate No"></dxi-column>
        
        <dxi-column dataField="unitpack_size" caption="Pack Size"></dxi-column>

        <dxi-column dataField="quantity"></dxi-column>
        <dxi-column dataField="packaging_units"></dxi-column>
        

       <!-- <dxi-column dataField="product_batch_no" caption="Product Batch #(License Permit)"></dxi-column>
        <dxi-column dataField="product_manufacturing_date" caption="Mgf Date"></dxi-column>
        <dxi-column dataField="product_expiry_date" caption="Product Expiry Date"></dxi-column>-->

        <dxi-column dataField="currency_name"></dxi-column>
        <dxi-column dataField="unit_price"></dxi-column>
        <dxi-column dataField="total_value" caption="FOB Value"></dxi-column>
        <dxo-paging [enabled]="true">
        </dxo-paging>
        <dxo-summary>
          <dxi-total-item
              column="total_value"
              summaryType="sum">
          </dxi-total-item>
        </dxo-summary>
        <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
        </dxo-pager>
        <dxo-export [enabled]="true" fileName="permitProducts" [allowExportSelectedData]="true"></dxo-export>
        </dx-data-grid>
  
</dx-scroll-view>
</div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(80)" height="600" [showTitle]="true" title="Unregistered Products Details"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isUnRegisteredProductsDetails">
  <div *dxTemplate="let data of 'content'">
        <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" height="500"  [remoteOperations]='true' 
        [remoteOperations]="true"
                  [dataSource]="UnRegisteredProductsData" keyExpr="id">
                  <dxo-filter-row [visible]="false"></dxo-filter-row>
                  <dxo-search-panel [visible]="true">
                  </dxo-search-panel>
                  <dxo-paging [enabled]="true">
                  </dxo-paging>
                  <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
                  </dxo-pager>
                  <dxo-export [enabled]="true" fileName="manufacturingFile" [allowExportSelectedData]="true"></dxo-export>
                  <dxo-selection mode="single"></dxo-selection>
                  <dxo-group-panel [visible]="true"></dxo-group-panel>
                  <dxi-column [width]="140" caption="Action" name="command-editing" [allowFiltering]="false" [allowSorting]="false"
                    cellTemplate="cellTemplate">
                    <div *dxTemplate="let data of 'cellTemplate'">
                      <a class="action-btn" (click)="funcSelectUnRegisteredProductDetails(data)"><i class="fa fa-edit"></i>Select Product Details</a>&nbsp;
                    </div>
                    <dxo-paging [pageSize]="50"></dxo-paging> 
                  </dxi-column>
                  <dxi-column  dataField="proprietary_name"caption="Brand Name"></dxi-column>
                  <dxi-column  dataField="dosage_form"></dxi-column>
                  <dxi-column  dataField="generic_name"></dxi-column>
                  <dxi-column  dataField="pack_size"></dxi-column>
                  <dxi-column  dataField="no_of_units"></dxi-column>
                  <dxi-column  dataField="country_of_origin"></dxi-column>
                
        </dx-data-grid>
    </div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="600" [showTitle]="true" title="Registered Products Details"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isManufacturingSiteProductsDetails">
  <div *dxTemplate="let data of 'content'">
        <dx-data-grid class="table row-border hover"  [allowColumnResizing]="true"  [columnHidingEnabled]="true" [height]="500"  [remoteOperations]='true' 
        [remoteOperations]="true"
                  [dataSource]="manSiteRegisteredProductsData" keyExpr="id">
                  <dxo-filter-row [visible]="false"></dxo-filter-row>
                  <dxo-search-panel [visible]="true">
                  </dxo-search-panel>
                  <dxo-paging [enabled]="true">
                  </dxo-paging>
                  <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
                  </dxo-pager>
                  <dxo-export [enabled]="true" fileName="manufacturingFile" [allowExportSelectedData]="true"></dxo-export>
                  <dxo-selection mode="single"></dxo-selection>
                  <dxo-group-panel [visible]="true"></dxo-group-panel>
                  <dxi-column [width]="140" caption="Action" name="command-editing" [allowFiltering]="false" [allowSorting]="false"
                    cellTemplate="cellTemplate">
                    <div *dxTemplate="let data of 'cellTemplate'">
                      <a class="action-btn" (click)="funcSelectProductDetails(data)"><i class="fa fa-edit"></i>Select Product Details</a>&nbsp;
                    </div>
                    <dxo-paging [pageSize]="50"></dxo-paging> 
                  </dxi-column>
                  <dxi-column [width]="140" dataField="product_registration_no" caption="Reference Number"></dxi-column>
                  <dxi-column  dataField="brand_name"></dxi-column>
                  <dxi-column  dataField="product_origin"></dxi-column>
                  <dxi-column   dataField="common_name"></dxi-column>
                 <dxi-column dataField="applicant_name"></dxi-column>
                  <dxi-column dataField="physical_address"></dxi-column>
                  <dxi-column dataField="dosage_form"></dxi-column>
                  <dxi-column dataField="product_type"></dxi-column>
                  <dxi-column dataField="manufacturing_site"></dxi-column> 
                
            </dx-data-grid>
    </div>
</dx-popup>


<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="500" [showTitle]="true" title="Approved Products Details" [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isApprovedProductsDetails">
<div *dxTemplate="let data of 'content'">
  <dx-data-grid class="table row-border hover" (onCellPrepared)="onCellApprovedVCPrepared($event)" [height]="450"   [remoteOperations]='true'  [dataSource]="approvedProductsData" keyExpr="id">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="vcFile" [allowExportSelectedData]="true"></dxo-export>

    <dxo-selection mode="multiple"></dxo-selection>
    <dxo-group-panel [visible]="true"></dxo-group-panel>
    <dxi-column [width]="120" caption="Action" name="command-editing" [allowFiltering]="false" [allowSorting]="false"
     cellTemplate="cellTemplate">
      <div *dxTemplate="let data of 'cellTemplate'">
        <a (click)="funcSelectApprovedVisaProduct(data)" class="action-btn"><i class="fa fa-edit"></i>Select Product Details</a>&nbsp;
      </div>
    </dxi-column>
    <dxi-column dataField="vc_no" caption="VC No."></dxi-column>
    <dxi-column dataField="brand_name"></dxi-column>
    <dxi-column dataField="port_name"></dxi-column>
    <dxi-column dataField="visabalance_quantity" caption="VC Quantity Balance"></dxi-column>
  </dx-data-grid>
</div>
</dx-popup>






<dx-popup class="popup"  [width]="funcpopWidth(80)" [height]="700" [showTitle]="true" title="{{printReportTitle}}"
[dragEnabled]="false" [closeOnOutsideClick]="true" [(visible)]="isPrintReportVisible">
<div *dxTemplate="let data of 'content'">
    <div class="col-lg-12 row" [innerHTML]="printiframeUrl | safe: 'html'"></div>
</div>
</dx-popup>

<dx-popup class="popup" [width]="500" [height]="400" [showTitle]="true" title="Upload Option (Invoice Products)"
  [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isInvoiceProductsUploadVisable">
  <div *dxTemplate="let data of 'content'">
    <form role="form" class="row" enctype="multipart/form-data" role="form" [formGroup]="invoiceProductsUploadFrm"
      (ngSubmit)="onunInvoiceProductsUpload()">
      
      <div class="col-lg-12">
        <div class="col-lg-12">
          <label>Upload Filled Form(Excel)</label>
          <input type="file" class="form-control" (change)="fileChangeEvent($event)" />
        </div>
      </div>
      <div class="col-lg-12">
        <label>Invoice Currency</label>
        <dx-select-box [dataSource]="currencyData" valueExpr="id" placeholder="Select Currency" displayExpr="name"
          [searchEnabled]="true" formControlName="currency_id">
        </dx-select-box>
      </div>
      <div class="col-lg-12">
        <label>Description</label>
        <dx-text-area [height]="60" formControlName="description"  placeholder="Description"
          [(value)]="value">
        </dx-text-area>
      </div>
      <div class="col-lg-12">
        <dx-button text="Upload Excel Document" [disabled]="!invoiceProductsUploadFrm.valid" (onClick)="onunInvoiceProductsUpload()" type="success" icon="save" [elementAttr]="{ class: 'btn btn-primary; pull-right' }">
        </dx-button>
      </div>
    </form>
  </div>
</dx-popup>

<dx-popup class="popup" [width]="funcpopWidth(80)" [height]="500" [showTitle]="true" title="GMDN Details" [dragEnabled]="false" [closeOnOutsideClick]="false" [(visible)]="isgmdnCodeWinshow">
<div *dxTemplate="let data of 'content'">
  <dx-data-grid class="table row-border hover"  [height]="450"   [remoteOperations]='true'  [dataSource]="gmdnCodeData" keyExpr="id">
    <dxo-filter-row [visible]="false"></dxo-filter-row>
    <dxo-search-panel [visible]="true">
    </dxo-search-panel>
    <dxo-paging [enabled]="true">
    </dxo-paging>
    <dxo-pager [showInfo]="true" infoText="Page #{0}. Total: {1} ({2} items)">
    </dxo-pager>
    <dxo-export [enabled]="true" fileName="traderFile" [allowExportSelectedData]="true"></dxo-export>

    <dxo-selection mode="multiple"></dxo-selection>
    <dxo-group-panel [visible]="true"></dxo-group-panel>
    <dxi-column [width]="120" caption="Action" name="command-editing" [allowFiltering]="false" [allowSorting]="false"
     cellTemplate="cellTemplate">
    <div *dxTemplate="let data of 'cellTemplate'">
     <a (click)="funcSelectgmdn(data)" class="action-btn"><i class="fa fa-edit"></i>Select</a>&nbsp;
    </div>
   </dxi-column>
    <dxi-column dataField="name"></dxi-column>
    <dxi-column dataField="code" caption="GMDN Code"></dxi-column>
    <dxi-column dataField="description"></dxi-column>

  </dx-data-grid>
</div>
</dx-popup>